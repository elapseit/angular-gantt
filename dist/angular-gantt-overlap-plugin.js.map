{"version":3,"sources":["../src/plugins/overlap.js","../.tmp/generated/plugins/overlap/html2js.js"],"names":[],"mappings":"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","file":"angular-gantt-overlap-plugin.js","sourcesContent":["(function() {\r\n    'use strict';\r\n    angular.module('gantt.overlap', ['gantt', 'gantt.overlap.templates']).directive('ganttOverlap', ['moment', '$timeout', function(moment, $timeout) {\r\n        return {\r\n            restrict: 'E',\r\n            require: '^gantt',\r\n            scope: {\r\n                enabled: '=?',\r\n                global: '=?'\r\n            },\r\n            link: function(scope, element, attrs, ganttCtrl) {\r\n                var api = ganttCtrl.gantt.api;\r\n\r\n                // Load options from global options attribute.\r\n                if (scope.options && typeof(scope.options.overlap) === 'object') {\r\n                    for (var option in scope.options.overlap) {\r\n                        scope[option] = scope.options.overlap[option];\r\n                    }\r\n                }\r\n\r\n                if (scope.enabled === undefined) {\r\n                    scope.enabled = true;\r\n                }\r\n\r\n                if (scope.global === undefined) {\r\n                    scope.global = false;\r\n                }\r\n\r\n                function getStartEnd(task) {\r\n                    var start, end;\r\n\r\n                    if (task.model.from.isBefore(task.model.to)) {\r\n                        start = task.model.from;\r\n                        end = task.model.to;\r\n                    } else {\r\n                        start = task.model.to;\r\n                        end = task.model.from;\r\n                    }\r\n\r\n                    return [start, end];\r\n                }\r\n\r\n                function getRange(task) {\r\n                    var startEnd = getStartEnd(task);\r\n                    return moment().range(startEnd[0], startEnd[1]);\r\n                }\r\n\r\n                function handleTaskOverlap(overlapsList, task) {\r\n                    if (!(task.model.id in overlapsList) && task.$element) {\r\n                        task.$element.addClass('gantt-task-overlaps');\r\n                        overlapsList[task.model.id] = task;\r\n                    }\r\n                }\r\n\r\n                function handleTaskNonOverlaps(overlapsList, allTasks) {\r\n                    for (var i = 0, l = allTasks.length; i < l; i++) {\r\n                        var task = allTasks[i];\r\n                        if (!(task.model.id in overlapsList) && task.$element) {\r\n                            task.$element.removeClass('gantt-task-overlaps');\r\n                        }\r\n                    }\r\n                }\r\n\r\n                function handleOverlaps(tasks) {\r\n                    // Assume that tasks are ordered with from date.\r\n                    var newOverlapsTasks = {};\r\n\r\n                    if (tasks.length > 1) {\r\n                        var previousTask = tasks[0];\r\n                        var previousRange = getRange(previousTask);\r\n\r\n                        for (var i = 1, l = tasks.length; i < l; i++) {\r\n                            var task = tasks[i];\r\n                            var range = getRange(task);\r\n\r\n                            if (range.overlaps(previousRange)) {\r\n                                handleTaskOverlap(newOverlapsTasks, task);\r\n                                handleTaskOverlap(newOverlapsTasks, previousTask);\r\n                            }\r\n\r\n                            if (previousTask.left + previousTask.width < task.left + task.width) {\r\n                                previousTask = task;\r\n                                previousRange = range;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    handleTaskNonOverlaps(newOverlapsTasks, tasks);\r\n                }\r\n\r\n                function sortOn(array, supplier) {\r\n                    return array.sort(function(a, b) {\r\n                        if (supplier(a) < supplier(b)) {\r\n                            return -1;\r\n                        } else if (supplier(a) > supplier(b)) {\r\n                            return 1;\r\n                        }\r\n                        return 0;\r\n                    });\r\n                }\r\n\r\n                function handleGlobalOverlaps(rows) {\r\n                    var globalTasks = [];\r\n                    for (var i = 0; i < rows.length; i++) {\r\n                        globalTasks.push.apply(globalTasks, rows[i].tasks);\r\n                    }\r\n\r\n                    globalTasks = sortOn(globalTasks, function(task) {\r\n                        return task.model.from;\r\n                    });\r\n\r\n                    handleOverlaps(globalTasks);\r\n                }\r\n\r\n                if (scope.enabled) {\r\n                    api.data.on.change(scope, function() {\r\n                        $timeout(function() {\r\n                            var rows = api.gantt.rowsManager.rows;\r\n\r\n                            if (scope.global) {\r\n                                handleGlobalOverlaps(rows);\r\n                            } else {\r\n                                for (var i = 0; i < rows.length; i++) {\r\n                                    handleOverlaps(rows[i].tasks);\r\n                                }\r\n                            }\r\n                        });\r\n                    });\r\n\r\n                    api.tasks.on.change(scope, function(task) {\r\n                        if (scope.global) {\r\n                            var rows = task.row.rowsManager.rows;\r\n                            handleGlobalOverlaps(rows);\r\n                        } else {\r\n                            handleOverlaps(task.row.tasks);\r\n                        }\r\n                    });\r\n\r\n                    api.tasks.on.rowChange(scope, function(task, oldRow) {\r\n                        if (scope.global) {\r\n                            var rows = task.row.rowsManager.rows;\r\n                            handleGlobalOverlaps(rows);\r\n                        } else {\r\n                            handleOverlaps(oldRow.tasks);\r\n                            handleOverlaps(task.row.tasks);\r\n                        }\r\n                    });\r\n\r\n                    api.tasks.on.add(scope, function(task) {\r\n                        // TODO: Mimicked functionality from api.data.on.change to defer until element creation, but not ideal.  Refactor necessary to raise 'add' event after task is fully drawn.\r\n                        $timeout(function() {\r\n                            if (scope.global) {\r\n                                var rows = task.row.rowsManager.rows;\r\n                                handleGlobalOverlaps(rows);\r\n                            } else {\r\n                                handleOverlaps(task.row.tasks);\r\n                            }\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n        };\r\n    }]);\r\n}());\r\n","angular.module('gantt.overlap.templates', []).run(['$templateCache', function ($templateCache) {\r\n\r\n}]);\r\n"]}